C51 COMPILER V9.01   GLOBAL                                                                03/09/2023 15:39:08 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE GLOBAL
OBJECT MODULE PLACED IN .\obj\Global.obj
COMPILER INVOKED BY: D:\Keil4\C51\BIN\C51.EXE ..\..\KERNEL\SYSTEM\AOC2011\Global.c OPTIMIZE(SIZE) BROWSE INCDIR(..\..\DR
                    -IVER\INC;..\..\KERNEL\SCALER\INC;..\..\KERNEL\SYSTEM\INC;..\..\LIB\INC;..\..\PANEL\INC;..\..\BOARD;..\..\DRIVER\INC;..\.
                    -.\KERNEL\SYSTEM\INC\AOC2011;..\..\DRIVER\extDEVICE\INC;..\..\MODEL;..\..\CONFIG;..\..\PANEL;..\..\UI\F_LOGO\INC;..\..\UI
                    -\HkcOsd\INC) DEFINE(ModelName=JRY_TESTBOARD_C_BOARD) DEBUG OBJECTEXTEND PRINT(.\list\Global.lst) OBJECT(.\obj\Global.obj
                    -)

line level    source

   1          #include "types.h"
   2          #include "board.h"
   3          #include "global.h"
   4          #include "Debug.h"
   5          
   6          #include "keypaddef.h"
   7          
   8          
   9              #include "menudef.h"
  10          
  11          #if MWEFunction
  12              #include "MsDLC.h"
  13              #include "MsACE.h"
  14              #include "Userpref.h"
  15              /*
  16              BYTE  UserPrefSubRedGain=0;
  17              BYTE  UserPrefSubGreenGain=0;
  18              BYTE  UserPrefSubBlueGain=0;
  19               */
  20          #endif
  21          
  22          
  23          
  24          #if ENABLE_DisplayPortTX
              #include "drvDPTxApp.h"
              #endif
  27          
  28          #if ENABLE_DP_INPUT
              bit g_bDoDPInit;
              #endif
  31          
  32          #include "drvmsOVD.h"
  33          
  34          //------Eson Start-----------------------------------------
  35          BYTE xdata ucPreXPos;
  36          BYTE xdata ucPreYPos;
  37          BYTE xdata ucOSDMenuMoveType;
  38          BYTE xdata bMoveCURSORFlag;
  39          
  40          #if TMDS_SYNC_RECHECK//20130418
              BYTE xdata HsyncDisappearCounter = 0;
              BYTE xdata VsyncDisappearCounter = 0;
              #endif
  44          
  45          
  46          #if All_AudioDet
              
              BYTE xdata bAudioInputStatus = 0;
              
              #endif
  51          
C51 COMPILER V9.01   GLOBAL                                                                03/09/2023 15:39:08 PAGE 2   

  52          
  53          
  54          #if LowBlueLightType == LowBlueLight_SharpFunc
              xdata BYTE gTempLowBlueMode;
              #endif
  57          
  58          #if 1//PropFontSource
  59          xdata WORD CFontData[18];
  60          WORD xdata font_shift;
  61          WORD xdata font_offset;
  62          WORD xdata TotalFontWidth;
  63          BYTE xdata PropFontRamWidth;
  64          BYTE xdata FontUsedPixel;
  65          
  66          BYTE xdata font_Norm_Up_Down; // 0: norm  , 1: half of up, 2:half of down.
  67          #endif
  68          
  69          #if ENABLE_MHL
              #if CHIP_ID == CHIP_TSUMC || CHIP_ID == CHIP_TSUMD || CHIP_ID == CHIP_TSUM9|| CHIP_ID == CHIP_TSUMF// demo
             - board        // 130717 william For G15 compiling warning
              BYTE xdata MHLExtenCountFlag = 0; // 0 means current MHL port has 1 chance to extend time for staying at c
             -urrent port
              #endif
              #endif
  74          
  75          //------Eson End-------------------------------------------
  76          
  77          
  78          BYTE xdata g_ucTimer0_TH0;
  79          BYTE xdata g_ucTimer0_TL0;
  80          BYTE xdata g_u8SystemSpeedMode=0;
  81          
  82          bit   g_bInputSOGFlag;
  83          
  84          BYTE xdata TI0_FLAG;
  85          
  86          bit g_bMcuPMClock;
  87          
  88          #if AudioFunc && ENABLE_DP_INPUT 
              BYTE xdata PrevInputType=0;             //130107_21 Henry for ChangeSource between DP and other Source,then can not M
             -ute Audio
              #endif
  91          
  92          #if sRGBIssue
                  BYTE xdata UserPrevECOMode,UserPrevGamaMode,UserPrevDcrMode;        //130109_23 Henry
              #endif
  95          
  96          
  97          
  98          
  99          
 100          #ifdef OffPower
                      BYTE xdata ShowOffPowerWarningFlag;
              #endif
 103          WORD ms_Counter = SystemTick; // for System timer
 104          BYTE xdata ModeDetectCounter;
 105          BYTE xdata Second;
 106          WORD xdata DelayCounter;
 107          bit bDelayFlag;
 108          WORD xdata PanelOffOnDelayCntr;
 109          bit bPanelDelayFlag;
 110          //WORD xdata TimeOutCounter; //130823 larry modfiy for WaitOutputFpllStable  120510 coding, addition for c
C51 COMPILER V9.01   GLOBAL                                                                03/09/2023 15:39:08 PAGE 3   

             -hecking register status 
 111          WORD xdata u16TimeOutCounter = 0; // 120510 coding, addition for checking register status
 112          bit bTimeOutCounterFlag = 0;
 113          
 114          
 115          
 116          // 110826 coding addition for recording back light active status
 117          BYTE xdata BackLightActiveFlag;
 118          
 119          #if ESaverPowerDownFunc
 120          WORD xdata ESaverPowerDownCounter;
 121          #endif
 122          BYTE xdata OsdCounter;
 123          BYTE xdata HotKeyCounter;
 124          BYTE xdata PowerDownCounter;
 125          BYTE xdata SourceKeyCounter;
 126          #if ENABLE_MHL
              WORD xdata InputTimingStableCounter;
              #else
 129          BYTE xdata InputTimingStableCounter;
 130          #endif
 131          BYTE xdata SwitchPortCntr; // 071222
 132          #ifdef OffPower          //090331 xiandi.yu Auto Off Power
              #if 1//130723 william For PowerSaving timer slowly  !EXT_TIMER0_1S//20130510 xiandi.yu Auto Off Power
              BYTE xdata AutoPowerOffSTime=0;
              #endif
              BYTE xdata AutoPowerOffMTime;
              BYTE xdata AutoPowerOffHTime;
              #endif
 139          //WORD SystemFlags=0;    // for system status flags
 140          //BYTE System2Flags=0;
 141          //BYTE PatternNo=0;
 142          #if 0 // 2006/11/9 11:41AM by Emily  temp
                  DWORD xdata BlackoffTime = 0;
              #endif
 145          
 146          
 147          #if EANBLE_NEW_DCR_Functing
 148          BYTE xdata DCR_Counter = 0;
 149          BYTE xdata DCRStepTransCnt=0;
 150          #endif
 151          
 152          
 153          //BYTE LanguageState=0;
 154          //BYTE CurrentLanguage=0;   //wumaozhong add 20050615
 155          //BYTE ShortcutLuminance=0;
 156          //BYTE SaveIndex=0; // saveIndex
 157          //WORD xdata SystemFlags = 0; // for system status flags
 158          //WORD  System2Flags = 0;
 159          BYTE xdata PowerKeyCounter;
 160          //BYTE xdata KeypadFlags=0;
 161          BYTE xdata SaveIndex; // saveIndex
 162          BYTE xdata PatternNo;
 163          //BYTE xdata BrightnessTemp = 0;
 164          //BYTE xdata PrevHistoValue = 0;
 165          #if DECREASE_V_SCALING
 166          WORD xdata DecVScaleValue;
 167          
 168          #endif
 169          BYTE xdata gBoolVisualKey=0;
 170          BYTE xdata gByteVisualKey = 0xff;
 171          BYTE xdata LanguageIndex;
C51 COMPILER V9.01   GLOBAL                                                                03/09/2023 15:39:08 PAGE 4   

 172          BYTE xdata SecondTblAddr;
 173          
 174          BYTE  xdata MenuPageIndex;
 175          BYTE  xdata MenuItemIndex;
 176          
 177          //BYTE xdata BoostTempValue=0;
 178          
 179          BYTE  xdata TermBuffer;
 180          #if ENABLE_HDCP
 181              //BYTE xdata HPD_Counter = 0;
 182              //BYTE xdata HDCPFlag = 0;
 183              // 2006/11/29 10:35AM by KK WORD xdata g_wHDCP_KeyChkSum;
 184              // 2006/11/29 10:35AM by KK WORD xdata g_HDCP_KeyCounter;
 185              //XDATA g_bHPD_Status;
 186          
 187              //bit HpdReadyFlag=0;
 188              bit HdcpNVRamFlag;
 189          
 190          #endif
 191          
 192          WORD xdata DCOffOnCounter=0;
 193          
 194          #if 0//ENABLE_HDMI
              BYTE xdata PreHDMIColor=0;
              #endif
 197          BYTE xdata InputColorFormat;
 198          
 199          
 200          #if ENABLE_HDCP
 201              #if HDCPKEY_IN_Flash
 202              bit LoadHDCPKeyFlag;
 203              bit WriteHDCPcodeFlag;
 204                  BYTE xdata HDCPDataBuffer[6]; //[6];
 205                  WORD xdata TCRCvalue;
 206                  #ifdef HDCP_IN_FLASH_NEW_WAY
                      BYTE xdata HDCPKeySaveIndex;//Zhifeng.wu
                      #endif
 209              #endif
 210          #endif
 211          
 212          #if 0//ENABLE_HDMI
              bit bDigitalGraphicReset=0;
              #endif
 215          #if USEFLASH
 216          FactorySettingType xdata  FactorySetting;
 217          #endif
 218          
 219          #if !USEFLASH
              FactorySettingType xdata  FactorySetting;
              #endif
 222          
 223          #ifdef  UseVGACableReadWriteAllPortsEDID
                      BYTE xdata SIORxBuffer[DDC_BUFFER_LENGTH];      //20120625 updata
              #else
 226              #ifdef DATA_LENGTH_20_BYTE
 227              BYTE xdata SIORxBuffer[23];
 228              #else
                  BYTE xdata SIORxBuffer[8];
                  #endif
 231          #endif
 232          
 233          #ifdef UseVGACableReadWriteAllPortsEDID
C51 COMPILER V9.01   GLOBAL                                                                03/09/2023 15:39:08 PAGE 5   

                  #ifdef ReduceDDC
                      bit LoadEDIDFlag;
                      #else
                              #if ENABLE_DP_INPUT ||ENABLE_MHL || ((CHIP_ID == CHIP_TSUM9 || CHIP_ID == CHIP_TSUMF) && ENABLE_CABLE_5V
             -_EDID)//121228 Modify
                      bit LoadEDIDFlag;
                              #endif
                              BYTE xdata LoadEDIDSelectPort = 0xFF ;
                  #endif
                  bit WriteDeviceFlag;
              #endif
 244          
 245          BYTE xdata DDC1[289];// 2017/02/20
 246          BYTE EnableReadDDCType=I2C_EEPROM;
 247          
 248          #ifdef ReduceDDC
              bit EnCheckVccFlag;
              BYTE xdata SystemVccDropDownCnt;
              #endif
 252          
 253          #if 0//def WH_REQUEST   //130913 fay
               bit EnableShowFactoryMenuFlag=0;
              #endif
 256          #if FreeSyncSwitchEDID
               
               BYTE xdata HDMI1FreeSyncED=0;
               
               BYTE xdata HDMI2FreeSyncED=0;
               
               
              #endif
 264          
 265          //bit SaveFactorySettingFlag=0;
 266          #if 0//EnablePanelServiceMenu
              BYTE xdata PanelSelect;
              BYTE xdata SavePanelSettingFlag;
              BYTE xdata TestMinDutyFlag;
              PanelSettingType xdata PanelSetting;
              #endif
 272          
 273          #if PanelminiLVDS||PANEL_VCOM_ADJUST    //110229 Modify
              #if PANEL_VCOM_ADJUST                   //      For Turn on panel  R/W Vcom     130311 Modify
              #else
              BYTE xdata g_bACPowerOn_CheckVCOM = FALSE ;
              #endif
              #endif
 279          
 280          InputTimingType xdata InputTiming;
 281          MonitorSettingType xdata MonitorSetting; //Benz 2007.4.15   19:44:07idata - >xdata
 282          ModeSettingType xdata ModeSetting;
 283          #if USEFLASH
 284          MonitorSettingType2 xdata  MonitorSetting2;
 285          #endif
 286          #if (ENABLE_OVER_SCAN||CHIP_ID == CHIP_TSUMD)  //130909 nick add
              OverScanType xdata OverScanSetting;
              #endif
 289          
 290          #if Show_BackLightTimeValue
 291          BYTE    xdata BlacklitTime_S = 0;
 292          BYTE    xdata BlacklitTime_M = 0;
 293          WORD   xdata BlacklitTime_H = 0;
 294          //BYTE    xdata BlacklitTime_HH = 0;
C51 COMPILER V9.01   GLOBAL                                                                03/09/2023 15:39:08 PAGE 6   

 295          #endif
 296          
 297          //==========================for AutoBacklight=====
 298          BYTE xdata HistogramNow;
 299          BYTE xdata HistogramPrev;
 300          BYTE xdata BacklightNow;
 301          BYTE xdata BacklightPrev;
 302          BYTE xdata HistogramFlag = 1;
 303          //xdata BYTE xfr_regs[256] _at_ 0xC000;
 304          
 305          
 306          
 307          
 308          bit InputTimingChangeFlag;
 309          bit PowerSavingFlag;
 310          bit ForcePowerSavingFlag;
 311          bit InputTimingStableFlag;
 312          #if 0//def WH_REQUEST
              #if WH_REQUEST_DDCCI_POWERSAVING
              #if MS_PM
              bit DDCForcePowerSavingFlag;
              #endif
              #endif
              #endif
 319          bit DoModeSettingFlag;
 320          bit CableNotConnectedFlag;
 321          bit FreeRunModeFlag;
 322          bit RxBusyFlag;
 323          bit OsdTimeoutFlag;
 324          bit ChangePatternFlag;
 325          bit SaveSettingFlag;
 326          bit SecondFlag;
 327          bit ms500Flag;
 328          #if 0//ENABLE_FREESYNC
              bit ms250Flag;
              #endif
 331          bit ms50Flag;
 332          bit ms10Flag;
 333          bit ReverseXFlag;
 334          bit ReverseYFlag;
 335          
 336          bit ReadyForChangeFlag;
 337          bit LoadOSDDataFlag;
 338          bit AutoColorFlag;
 339          bit ShowInputInfoFlag;
 340          bit JustShowValueFlag;
 341          bit DecVScaleFlag;
 342          BYTE xdata SystemFlag1;
 343          BYTE xdata SystemFlags=0;
 344          
 345          bit DisplayLogoFlag;
 346          
 347          //--> change to SystemFlag1 for reduce data size
 348          /*
 349          bit DebugOnlyFlag=0;
 350          bit MainOSDFlag=0;
 351          bit SubOSDFlag=0;
 352          bit PowerKeyFlag=0;
 353          bit PowerOffFlag=0;
 354          bit DoAutoConfigFlag=0;
 355          bit DoKeyCountFlag=0;
 356          //=============================//
C51 COMPILER V9.01   GLOBAL                                                                03/09/2023 15:39:08 PAGE 7   

 357          */
 358          
 359          BYTE xdata Sytstemflag2;        //2012.08.14 Stone.yu
 360          BYTE xdata Sytstemflag3;        //
 361          //--> change to SystemFlag3 for reduce data size
 362          /*
 363          bit BackToStandbyFlag;  //111223 Modify
 364          bit BackToUnsupportFlag;        //111223 Modify
 365          bit PanelOnFlag;
 366          bit PressExitFlag;
 367          bit EnableShowDDCFlag;
 368          bit PressMenuFlag;
 369          bit MuteFlag;
 370          */
 371          
 372          
 373          #if JRY_Color_Tool_Functing
 374          BYTE idata WhileCounte=0;
 375          bit ubAutoAlign=0;
 376          #endif
 377          
 378          #if JRY_FDDCCI_WriteEDID
 379          BYTE idata DDCCILoadEDIDCount=0;
 380          #endif
 381          
 382          
 383          #if Enable_Expansion
 384          bit ExpansionFlag;
 385          WORD xdata DispalyWidth = PANEL_WIDTH;
 386          WORD xdata HStartOffset;
 387          #endif
 388          
 389          
 390          #if ENABLE_OVER_SCAN && AudioFunc       //121211 Modify
              bit PressPlusFlag;
              bit EnableExpansionMenuFlag;
              BYTE xdata HotKeyPlusCounter;
              #endif
 395          
 396          
 397          #if PowerSaveLedFlicker_Enable||FactoryLedFlicker_Enable
              BYTE xdata LedCounter=0;
              #endif
 400          
 401          #if (CHIP_ID == CHIP_TSUM9|| CHIP_ID == CHIP_TSUMF)
              BOOL g_bFROTrimResult;
              #endif
 404          
 405          
 406          
 407          //bit StartScanKeyFlag = 0;
 408          BYTE xdata TPDebunceCounter;
 409          
 410          #if MS_DAC&&(CHIP_ID==CHIP_TSUMC||CHIP_ID==CHIP_TSUMD||CHIP_ID == CHIP_TSUM9|| CHIP_ID == CHIP_TSUMF)
 411          WORD xdata w16DAC_DePopCounter = 0;
 412          bit bDAC_DePopCountFlag = 0;
 413          BYTE xdata w16DAC_DePopStep = 0;
 414          bit bDAC_DePopFlag = 0;
 415          #endif
 416          #if ENABLE_TIME_MEASUREMENT
              WORD volatile g_u16TimeMeasurementCounter = 0;
              bit bTimeMeasurementFlag=0;
C51 COMPILER V9.01   GLOBAL                                                                03/09/2023 15:39:08 PAGE 8   

              WORD g_u16Time1;
              WORD g_u16Time2;
              #endif
 422          
 423          
 424          
 425          BYTE code UserDataCode[];// =//Set UserDataCode To Bank3 Addr:A000
 426          
 427          
 428          #if Enable_ButtonKeyLongPressFunction
              BYTE xdata g_HoldKeypadButton = BTN_EndBTN;
              BYTE xdata g_HoldKeyCounter=0;
              #endif
 432          
 433          #if CHIP_ID == CHIP_TSUM2 || CHIP_ID == CHIP_TSUMU
              #if !ENABLE_RTE
               //  void msFB_DummyCall(void);
              #endif
              #endif
 438          
 439          
 440          
 441          //#if ENABLE_MHL
 442          //extern void MS_MHL_MAPIDummy(void);
 443          
 444          extern void msMHLDummy();
 445          extern msClearVersionDummy();  //nick add 20130529
 446          //#endif
 447          
 448          #if !ENABLE_DisplayPortTX
 449          extern void msDpTxDummy();
 450          #endif
 451          
 452          
 453          #if ENABLE_FREESYNC
              extern BYTE GetSrcFreesyncFPS(void);
              extern Bool SetDRRFunction(void);
              #endif
 457          
 458          void UnCalledFunctions( void )
 459          {
 460   1              BYTE xdata ucUnCall = 0;
 461   1              if( ucUnCall )
 462   1              {
 463   2                      #if !ENABLE_RTE
 464   2              msOverDriveDummy();
 465   2                      #endif
 466   2              #if 1//ENABLE_MHL
 467   2                  msMHLDummy();
 468   2              #endif
 469   2      
 470   2      
 471   2      
 472   2          #if ENABLE_HDMI_1_4
                      //msHDMI_Get_3D_Ext_Data();
                      //msHDMI_Get_3D_Meta_Field(0);
                      //msHDMI_Get_VIC_Code();
                      //msHDMI_Get_4Kx2K_VIC_Code();
                      msHDMI_Check_Additional_Format();
                      msHDMI_Get_3D_Structure();
                  #endif
 480   2      
C51 COMPILER V9.01   GLOBAL                                                                03/09/2023 15:39:08 PAGE 9   

 481   2              
 482   2              TIME_MEASURE_BEGIN();
 483   2              TIME_MEASURE_END();
 484   2               #if ENABLE_SW_DOUBLE_BUFFER && (CHIP_ID == CHIP_TSUM9|| CHIP_ID == CHIP_TSUMF)
                      msSWDBWrite2ByteMask(0, 0, 0);
                      msSWDBWriteBit(0, 0, 0);
                      msWrite3Byte(0, 0);
                   #endif
 489   2      #if 0
                       GetSrcFreesyncFPS();
                       SetDRRFunction();
              #endif
 493   2      
 494   2               
 495   2      #if ENABLE_DisplayPortTX
                               DPTxCheckCRC();
                               DPAUX_TEST();
                               DPTxEDIDRead();
                               I_Gen_Tuning();
              #else
 501   2                       msDpTxDummy();
 502   2      #endif
 503   2      
 504   2      
 505   2             }
 506   1      
 507   1      }
 508          
 509          
 510          void Init_GlobalVariables(void)
 511          {
 512   1          InputTimingStableCounter = UserDataCode[0];
 513   1      
 514   1      
 515   1          InputTimingStableCounter = 0;
 516   1          SwitchPortCntr = 0;
 517   1          OsdCounter = 0;
 518   1          HotKeyCounter = 0;
 519   1          PowerKeyCounter = 0;
 520   1          PowerDownCounter = 0;
 521   1                  gBoolVisualKey = 0;
 522   1      
 523   1              #if 0
                  HotKeyMinusCounter = 0;
                      #endif
 526   1              #if ENABLE_OVER_SCAN && AudioFunc       //121211 Modify
                  HotKeyPlusCounter = 0;
                      #endif
 529   1      
 530   1      
 531   1      
 532   1      #if (ENABLE_OVER_SCAN||CHIP_ID == CHIP_TSUMD)  //130909 nick add
                  OverScanSetting.Enable = 0;
              #endif
 535   1      
 536   1          //Clr_StartScanKeyFlag();
 537   1          TPDebunceCounter = SKPollingInterval;
 538   1      
 539   1          //MS_MHL_MAPIDummy();
 540   1      #if CHIP_ID == CHIP_TSUM2 || CHIP_ID == CHIP_TSUMU
                 #if !ENABLE_RTE
                     // msFB_DummyCall();
C51 COMPILER V9.01   GLOBAL                                                                03/09/2023 15:39:08 PAGE 10  

                  #endif
              #endif
 545   1      
 546   1      #if Show_BackLightTimeValue
 547   1      BlacklitTime_S=MonitorBackLightTime_S;
 548   1      BlacklitTime_M=MonitorBackLightTime_M;
 549   1      BlacklitTime_H=MonitorBackLightTime_H;
 550   1      #endif
 551   1      
 552   1      #if JRY_Color_Tool_Functing
 553   1      Clr_ATEModeFlag();
 554   1      #endif
 555   1      
 556   1      #if JRY_FDDCCI_WriteEDID
 557   1      Clr_DDCCIReadLoadEDIDFlag();
 558   1      DDCCILoadEDIDCount=0;
 559   1      #endif
 560   1      
 561   1      #if LoadAllPortSeriealnumberByOneVGAPort
 562   1               Clr_DDCCOneVGAPortLoadEDIDFlag();      
 563   1      #endif
 564   1      
 565   1      #if ESaverPowerDownFunc
 566   1          ESaverPowerDownCounter=0;
 567   1      #endif
 568   1      
 569   1      #if LowBlueLightType == LowBlueLight_SharpFunc
               if(UserPrefColorTemp!=CTEMP_LowBlue)
               gTempLowBlueMode = LOW_BLUE_LIGHT_OFF;
               else
               gTempLowBlueMode = UserprefLowBlueLightMode;
              #endif
 575   1      
 576   1          
 577   1          SrcFlags = SyncLoss;
 578   1          if (BurninModeFlag)
 579   1          {
 580   2              Set_DoBurninModeFlag();
 581   2          }
 582   1          else
 583   1          {
 584   2              Clr_DoBurninModeFlag();
 585   2          }
 586   1          if (PowerOnFlag)
 587   1          {
 588   2              Set_InputTimingChangeFlag();
 589   2              #if DisplayPowerOnLogo
 590   2                      if (!(FactoryModeFlag))
 591   2                              Set_DisplayLogoFlag();
 592   2              #endif
 593   2          }
 594   1          else
 595   1          {
 596   2              Set_ForcePowerSavingFlag(); // 080917 addition for dc off
 597   2              Clr_DisplayLogoFlag();
 598   2          }
 599   1      
 600   1                      
 601   1      
 602   1      #if Dual
 603   1              if (!(FactoryModeFlag))
 604   1                      Set_ShowInputInfoFlag();
C51 COMPILER V9.01   GLOBAL                                                                03/09/2023 15:39:08 PAGE 11  

 605   1      #endif
 606   1              
 607   1      #ifdef OffPower
                      ShowOffPowerWarningFlag = 0;
              #endif
 610   1      
 611   1      #if DECREASE_V_SCALING
 612   1          DecVScaleValue = 0;
 613   1      #endif
 614   1      
 615   1      
 616   1      #if ENABLE_OVER_SCAN && AudioFunc       //121211 Modify
                      PressPlusFlag = 0;
                      EnableExpansionMenuFlag = 0;
                      HotKeyPlusCounter = 0;
              #endif
 621   1      
 622   1      #if ColorTool_Clear_Time
 623   1      Clr_DDCCIAutoColorFlag();
 624   1      Clr_DDCCResetTimeFlag();
 625   1      #endif
 626   1      
 627   1      
 628   1      UnCalledFunctions();
 629   1      
 630   1              
 631   1      }
 632          #if 1//(CHIP_ID==CHIP_TSUMC|| CHIP_ID==CHIP_TSUMD || CHIP_ID==CHIP_TSUM9|| CHIP_ID == CHIP_TSUMF)
 633          WORD GetImageWidth(void)
 634          {
 635   1              WORD u16ImageWidth;
 636   1              if( CURRENT_INPUT_IS_VGA() )
 637   1              {
 638   2                      u16ImageWidth=StandardModeWidth;
 639   2              }
 640   1      #if ENABLE_DP_INPUT
                      else if( CURRENT_INPUT_IS_DISPLAYPORT() )
                      {
                              u16ImageWidth=gDPInfo.uwDPHWidth;
                      }
              #endif
 646   1      #if  ENABLE_CHECK_TMDS_DE
 647   1              else if( CURRENT_INPUT_IS_TMDS() )
 648   1              {
 649   2                      u16ImageWidth=SrcTMDSWidth;
 650   2              }
 651   1      #endif
 652   1              else
 653   1              {
 654   2                      u16ImageWidth=SC0_READ_AUTO_WIDTH();
 655   2              }
 656   1          return u16ImageWidth;
 657   1      }
 658          WORD GetImageHeight(void)
 659          {
 660   1              WORD u16ImageHeight;
 661   1              if( CURRENT_INPUT_IS_VGA() )
 662   1              {
 663   2                      u16ImageHeight=StandardModeHeight;
 664   2              }
 665   1      #if ENABLE_DP_INPUT
                      else if( CURRENT_INPUT_IS_DISPLAYPORT() )
C51 COMPILER V9.01   GLOBAL                                                                03/09/2023 15:39:08 PAGE 12  

                      {
                              u16ImageHeight=gDPInfo.uwDPVWidth;
                      }
              #endif
 671   1      #if  ENABLE_CHECK_TMDS_DE
 672   1              else if( CURRENT_INPUT_IS_TMDS() )
 673   1              {
 674   2                      u16ImageHeight=SrcTMDSHeight;
 675   2              }
 676   1      #endif
 677   1              else
 678   1              {
 679   2                      u16ImageHeight=SC0_READ_AUTO_HEIGHT();
 680   2              }
 681   1          return u16ImageHeight;
 682   1      }
 683          #endif
 684          
 685          #if CHIP_ID == CHIP_TSUM2 || CHIP_ID == CHIP_TSUMU|| CHIP_ID == CHIP_TSUMC|| CHIP_ID == CHIP_TSUMD|| CHIP_
             -ID == CHIP_TSUMB||CHIP_ID == CHIP_TSUM9|| CHIP_ID == CHIP_TSUMF//20130427//20130509
 686          #if ENABLE_DP_INPUT&&(CHIP_ID == CHIP_TSUMC|| CHIP_ID == CHIP_TSUMD||CHIP_ID == CHIP_TSUM9|| CHIP_ID == CH
             -IP_TSUMF)
              BYTE GetPow2(BYTE exp)
              {
                  if( exp == 0 )
                      return 1;
                  else
                      return (0x02<<(exp-1));
              }
              #endif
 695          BYTE GetLog(DWORD value)
 696          {
 697   1          BYTE i = 0;
 698   1      
 699   1          if( value == 0 )
 700   1              return 0;
 701   1      
 702   1          while(value)
 703   1          {
 704   2              value >>= 1;
 705   2              i++;
 706   2          }
 707   1      
 708   1          return (i-1);
 709   1      }
 710          #endif
 711          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    471    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =    537       1
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      3       9
   IDATA SIZE       =      2    ----
   BIT SIZE         =     36    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
